<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="MyShop.Client.Views.Shared.ProfilePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:buttons="using:MyShop.Client.Views.Components.Buttons"
    xmlns:layout="using:MyShop.Client.Views.Components.Layout"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:winuic="using:Microsoft.UI.Xaml.Controls"
    xmlns:converters="using:MyShop.Client.Common.Converters"
    mc:Ignorable="d"
    Background="{ThemeResource PageBackgroundBrush}">

    <Page.Transitions>
        <TransitionCollection>
            <EntranceThemeTransition FromVerticalOffset="50"/>
        </TransitionCollection>
    </Page.Transitions>

    <Page.Resources>
        <!-- Converters for visibility -->
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibility"/>
        <converters:InverseBoolConverter x:Key="InverseBoolConverter"/>
        <converters:InverseBoolToVisibilityConverter x:Key="InverseBoolToVisibilityConverter"/>
        <converters:StringToImageSourceConverter x:Key="StringToImageSource"/>
        <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter"/>
    </Page.Resources>

    <Grid>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="ResponsiveStates">
                
                <!-- Large Desktop: 1920px+ -->
                <VisualState x:Name="LargeDesktopState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1920"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainScroller.Padding" Value="40"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Desktop: 1280-1919px -->
                <VisualState x:Name="DesktopState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1280"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainScroller.Padding" Value="32"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Tablet: 960-1279px -->
                <VisualState x:Name="TabletState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="960"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainScroller.Padding" Value="24"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Tablet Portrait: 640-959px -->
                <VisualState x:Name="TabletPortraitState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="640"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainScroller.Padding" Value="20"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Mobile: 0-639px (Default) -->
                <VisualState x:Name="MobileState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainScroller.Padding" Value="16"/>
                    </VisualState.Setters>
                </VisualState>
                
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <ScrollViewer x:Name="MainScroller" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="0">
                <!-- Page Header -->
                <layout:PageHeader
                    Title="My Profile"
                    Subtitle="Manage your account information"
                    Margin="48,24,48,16"/>

                <!-- Gradient Header Banner -->
                <Border Height="200"
                        Background="{ThemeResource ProfileBannerGradient}"/>

                <!-- Main Profile Content -->
                <StackPanel MaxWidth="1400"
                            HorizontalAlignment="Stretch"
                            Margin="48,-80,48,48">
                    <!-- Profile Card with Avatar -->
                    <Border Style="{StaticResource CardWithShadowStyle}"
                            Padding="32,24,32,24"
                            Margin="0,0,0,24">
                        <Border.Shadow>
                            <ThemeShadow/>
                        </Border.Shadow>

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Avatar and Profile Info Section -->
                            <Grid Grid.Row="0"
                                  Padding="{StaticResource Spacing_6_Thickness}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <!-- Avatar with Edit Button -->
                                <Grid Grid.Column="0"
                                      Width="120"
                                      Height="120"
                                      VerticalAlignment="Top"
                                      Margin="0,0,24,0">
                                    <Border Width="120"
                                            Height="120"
                                            CornerRadius="60"
                                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                            BorderThickness="3">
                                        <Border.Shadow>
                                            <ThemeShadow/>
                                        </Border.Shadow>
                                        <PersonPicture ProfilePicture="{x:Bind ViewModel.AvatarUrl, Mode=OneWay, Converter={StaticResource StringToImageSource}}"
                                                       Initials="{x:Bind GetInitial(ViewModel.Username), Mode=OneWay}"
                                                       Width="120"
                                                       Height="120"/>
                                    </Border>

                                    <!-- Edit Avatar Button -->
                                    <Button VerticalAlignment="Bottom"
                                            HorizontalAlignment="Right"
                                            Style="{StaticResource IconButtonStyle}"
                                            Command="{x:Bind ViewModel.PickAvatarCommand}"
                                            ToolTipService.ToolTip="Change avatar">
                                        <FontIcon FontFamily="Segoe Fluent Icons"
                                                  Glyph="&#xE898;"
                                                  Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                                                  FontSize="14"/>
                                        <Button.Shadow>
                                            <ThemeShadow/>
                                        </Button.Shadow>
                                    </Button>
                                </Grid>

                                <!-- Name and Contact Info -->
                                <StackPanel Grid.Column="1"
                                            VerticalAlignment="Center"
                                            Spacing="8">
                                    <!-- Role Badge -->
                                    <Border Background="{ThemeResource InfoBlueLightBrush}"
                                            CornerRadius="12"
                                            Padding="16,6"
                                            HorizontalAlignment="Left">
                                        <TextBlock Text="{x:Bind ViewModel.RoleDisplay, Mode=OneWay, FallbackValue='User'}"
                                                   FontSize="20"
                                                   Foreground="{ThemeResource AccentBlueBrush}"
                                                   FontWeight="SemiBold"/>
                                    </Border>
                                    
                                    <!-- Full Name -->
                                    <TextBlock Text="{x:Bind ViewModel.FullName, Mode=OneWay, FallbackValue='User'}"
                                               FontSize="28"
                                               FontWeight="Bold"
                                               Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                    
                                    <TextBlock Text="{x:Bind ViewModel.UsernameDisplay, Mode=OneWay, FallbackValue='@user'}"
                                               FontSize="15"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                    <TextBlock Text="MyShop User | Managing your account"
                                               FontSize="13"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

                                    <!-- Contact Info -->
                                    <StackPanel Orientation="Horizontal"
                                                Spacing="16"
                                                Margin="0,4,0,0"
                                                FlowDirection="LeftToRight">
                                        <StackPanel Orientation="Horizontal"
                                                    Spacing="6">
                                            <FontIcon FontFamily="Segoe Fluent Icons"
                                                      Glyph="&#xE715;"
                                                      FontSize="14"
                                                      Foreground="{ThemeResource PrimaryBrush}"/>
                                            <TextBlock Text="{x:Bind ViewModel.Email, Mode=OneWay}"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal"
                                                    Spacing="6">
                                            <FontIcon FontFamily="Segoe Fluent Icons"
                                                      Glyph="&#xE717;"
                                                      FontSize="14"
                                                      Foreground="{ThemeResource PrimaryBrush}"/>
                                            <TextBlock Text="{x:Bind ViewModel.PhoneNumber, Mode=OneWay, FallbackValue='+84 987 654 321'}"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal"
                                                    Spacing="6"
                                                    Visibility="{x:Bind ViewModel.Address, Mode=OneWay, Converter={StaticResource NullToVisibilityConverter}}">
                                            <FontIcon FontFamily="Segoe Fluent Icons"
                                                      Glyph="&#xE707;"
                                                      FontSize="14"
                                                      Foreground="{ThemeResource PrimaryBrush}"/>
                                            <TextBlock Text="{x:Bind ViewModel.Address, Mode=OneWay}"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Action Buttons -->
                                <StackPanel Grid.Column="2"
                                            Orientation="Horizontal"
                                            Spacing="12"
                                            VerticalAlignment="Center">

                                    <buttons:IconButton
                                            MinWidth="130"
                                            Variant="Filled"
                                            IconGlyph="&#xE70F;"
                                            Text="Edit Profile"
                                            Click="EditButton_Click"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Avatar Upload Controls (visible when image is selected) -->
                    <StackPanel Spacing="12"
                                HorizontalAlignment="Center"
                                Margin="0,0,0,24"
                                Visibility="{x:Bind ViewModel.SelectedAvatarFile, Mode=OneWay, Converter={StaticResource NullToVisibilityConverter}}">
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="8"
                                Padding="{StaticResource Padding_MD}">
                            <StackPanel Spacing="8">
                                <StackPanel Spacing="4"
                                            HorizontalAlignment="Center">
                                    <TextBlock Text="New avatar selected"
                                               FontSize="14"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                                               TextAlignment="Center"/>
                                    <TextBlock Text="{x:Bind ViewModel.SelectedAvatarFile.Name, Mode=OneWay}"
                                               FontSize="12"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                               TextAlignment="Center"
                                               MaxWidth="300"
                                               TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal"
                                            Spacing="8"
                                            HorizontalAlignment="Center">
                                    <buttons:IconButton
                                            Variant="Filled"
                                            IconGlyph="&#xE898;"
                                            Text="Upload"
                                            Command="{x:Bind ViewModel.UploadAvatarCommand}"
                                            IsEnabled="{x:Bind ViewModel.IsLoading, Mode=OneWay, Converter={StaticResource InverseBoolConverter}}"/>
                                    <Button Style="{StaticResource SecondaryButtonStyle}"
                                            Content="Cancel"
                                            Click="CancelAvatarButton_Click"
                                            IsEnabled="{x:Bind ViewModel.IsLoading, Mode=OneWay, Converter={StaticResource InverseBoolConverter}}"/>
                                </StackPanel>
                                <ProgressBar IsIndeterminate="True"
                                             Visibility="{x:Bind ViewModel.IsLoading, Mode=OneWay, Converter={StaticResource BoolToVisibility}}"
                                             Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <!-- Email Verification Alerts -->
                    <InfoBar Title="Email Verification Required"
                             Message="Please verify your email address to ensure account security and receive system notifications."
                             Severity="Warning"
                             BorderBrush="{ThemeResource SystemFillColorCautionBrush}"
                             Background="{ThemeResource SystemFillColorCautionBackgroundBrush}"
                             IsOpen="{x:Bind ViewModel.IsEmailVerified, Mode=OneWay, Converter={StaticResource InverseBoolConverter}}"
                             IsClosable="False"
                             Margin="0,0,0,24">
                        <InfoBar.Content>
                            <StackPanel Orientation="Horizontal"
                                        Spacing="4">
                                <HyperlinkButton Content="Resend verification email"
                                                 Click="ResendVerificationButton_Click"/>
                            </StackPanel>
                        </InfoBar.Content>
                    </InfoBar>

                    <InfoBar Title="Email Verified"
                             Message="Your email address has been verified. You have full access to all admin features."
                             Severity="Success"
                             BorderBrush="{ThemeResource SystemFillColorSuccessBrush}"
                             Background="{ThemeResource SystemFillColorSuccessBackgroundBrush}"
                             IsOpen="{x:Bind ViewModel.IsEmailVerified, Mode=OneWay}"
                             IsClosable="False"
                             Margin="0,0,0,24"/>

                    <!-- Content Sections -->
                    <StackPanel Spacing="24">
                        <!-- Personal Information -->
                        <Border Style="{StaticResource CardWithShadowStyle}">
                            <StackPanel Spacing="24">
                                <!-- Card Header -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Horizontal"
                                                Spacing="8"
                                                VerticalAlignment="Center">
                                        <FontIcon FontFamily="Segoe Fluent Icons"
                                                  Glyph="&#xE77B;"
                                                  FontSize="20"
                                                  Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                                        <TextBlock Text="Personal Information"
                                                   Style="{ThemeResource SubtitleTextBlockStyle}"
                                                   VerticalAlignment="Center"
                                                   Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                    </StackPanel>

                                    <!-- Edit/Save/Cancel Buttons -->
                                    <Button Grid.Column="1"
                                            Style="{StaticResource SecondaryButtonStyle}"
                                            Content="Edit Profile"
                                            Click="EditButton_Click"
                                            Visibility="{x:Bind ViewModel.IsEditing, Mode=OneWay, Converter={StaticResource InverseBoolToVisibilityConverter}}"/>
                                    <StackPanel Grid.Column="1"
                                                Orientation="Horizontal"
                                                Spacing="8"
                                                Visibility="{x:Bind ViewModel.IsEditing, Mode=OneWay, Converter={StaticResource BoolToVisibility}}">
                                        <Button Style="{StaticResource SecondaryButtonStyle}"
                                                Content="Cancel"
                                                Click="CancelButton_Click"/>
                                        <buttons:IconButton
                                                Variant="Filled"
                                                IconGlyph="&#xE74E;"
                                                Text="Save Changes"
                                                Click="SaveButton_Click"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Form Fields -->
                                <Grid ColumnSpacing="24"
                                      RowSpacing="24">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Full Name (spans 2 columns) -->
                                    <TextBox Grid.Row="0"
                                             Grid.ColumnSpan="2"
                                             Header="Full Name"
                                             Text="{x:Bind ViewModel.FullName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource BaseInputStyle}"
                                             IsEnabled="{x:Bind ViewModel.IsEditing, Mode=OneWay}"/>

                                    <!-- Phone Number (left) -->
                                    <TextBox Grid.Row="1"
                                             Grid.Column="0"
                                             Header="Phone Number"
                                             Text="{x:Bind ViewModel.PhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource BaseInputStyle}"
                                             IsEnabled="{x:Bind ViewModel.IsEditing, Mode=OneWay}"/>

                                    <!-- Email with Badge (right) -->
                                    <StackPanel Grid.Row="1"
                                                Grid.Column="1">
                                        <StackPanel Orientation="Horizontal"
                                                    Spacing="8"
                                                    Margin="0,0,0,4">
                                            <TextBlock Text="Email"/>
                                            <Border BorderBrush="{ThemeResource SystemFillColorSuccessBrush}"
                                                    BorderThickness="1"
                                                    CornerRadius="8"
                                                    Padding="8,2"
                                                    Visibility="{x:Bind ViewModel.IsEmailVerified, Mode=OneWay, Converter={StaticResource BoolToVisibility}}">
                                                <StackPanel Orientation="Horizontal"
                                                            Spacing="4">
                                                    <FontIcon FontFamily="Segoe Fluent Icons"
                                                              Glyph="&#xE930;"
                                                              FontSize="12"
                                                              Foreground="{ThemeResource SystemFillColorSuccessBrush}"/>
                                                    <TextBlock Text="Verified"
                                                               FontSize="12"
                                                               Foreground="{ThemeResource SystemFillColorSuccessBrush}"/>
                                                </StackPanel>
                                            </Border>
                                            <Border BorderBrush="{ThemeResource SystemFillColorCautionBrush}"
                                                    BorderThickness="1"
                                                    CornerRadius="8"
                                                    Padding="8,2"
                                                    Visibility="{x:Bind ViewModel.IsEmailVerified, Mode=OneWay, Converter={StaticResource InverseBoolToVisibilityConverter}}">
                                                <StackPanel Orientation="Horizontal"
                                                            Spacing="4">
                                                    <FontIcon FontFamily="Segoe Fluent Icons"
                                                              Glyph="&#xE715;"
                                                              FontSize="12"
                                                              Foreground="{ThemeResource SystemFillColorCautionBrush}"/>
                                                    <TextBlock Text="Unverified"
                                                               FontSize="12"
                                                               Foreground="{ThemeResource SystemFillColorCautionBrush}"/>
                                                </StackPanel>
                                            </Border>
                                        </StackPanel>
                                        <TextBox Text="{x:Bind ViewModel.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 Style="{StaticResource BaseInputStyle}"
                                                 IsEnabled="{x:Bind ViewModel.CanEditEmail, Mode=OneWay}"/>

                                    </StackPanel>

                                    <!-- Address (spans 2 columns) -->
                                    <TextBox Grid.Row="2"
                                             Grid.ColumnSpan="2"
                                             Header="Address"
                                             Text="{x:Bind ViewModel.Address, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource BaseInputStyle}"
                                             IsEnabled="{x:Bind ViewModel.IsEditing, Mode=OneWay}"/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Account Security -->
                        <Border Style="{StaticResource CardWithShadowStyle}">
                            <StackPanel Spacing="16">
                                <StackPanel Orientation="Horizontal"
                                            Spacing="8"
                                            VerticalAlignment="Center"
                                            Margin="0,0,0,8">
                                    <FontIcon FontFamily="Segoe Fluent Icons"
                                              Glyph="&#xE825;"
                                              FontSize="20"
                                              Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                                    <TextBlock Text="Account Security"
                                               Style="{ThemeResource SubtitleTextBlockStyle}"
                                               VerticalAlignment="Center"
                                               Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                </StackPanel>

                                <Border Background="{ThemeResource LayerFillColorDefaultBrush}"
                                        CornerRadius="4"
                                        Padding="{StaticResource Padding_LG}">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="Password"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                            <TextBlock Text="Update your password regularly for security"
                                                       FontSize="12"
                                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        </StackPanel>
                                        <Button Grid.Column="1"
                                                Style="{StaticResource SecondaryButtonStyle}"
                                                Content="Change Password"
                                                Click="ChangePasswordButton_Click"
                                                ToolTipService.ToolTip="Change your account password"/>
                                    </Grid>
                                </Border>

                                <Border Background="{ThemeResource LayerFillColorDefaultBrush}"
                                        CornerRadius="4"
                                        Padding="{StaticResource Padding_LG}">
                                    <Grid>
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="Two-Factor Authentication"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                            <TextBlock Text="Add an extra layer of security"
                                                       FontSize="12"
                                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        </StackPanel>
                                        <Button Grid.Column="1"
                                                Style="{StaticResource SecondaryButtonStyle}"
                                                Content="Enable"
                                                HorizontalAlignment="Right"
                                                IsEnabled="False"
                                                ToolTipService.ToolTip="Coming soon - 2FA support"/>
                                    </Grid>
                                </Border>

                                <Border Background="{ThemeResource LayerFillColorDefaultBrush}"
                                        CornerRadius="4"
                                        Padding="{StaticResource Padding_LG}">
                                    <Grid>
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="Active Sessions"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                            <TextBlock Text="Manage your active sessions"
                                                       FontSize="12"
                                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        </StackPanel>
                                        <Button Grid.Column="1"
                                                Style="{StaticResource SecondaryButtonStyle}"
                                                Content="View Sessions"
                                                HorizontalAlignment="Right"
                                                IsEnabled="False"
                                                ToolTipService.ToolTip="Coming soon - Session management"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Activity Log - Hidden until activity tracking is implemented -->
                        <!-- 
                    <Border Style="{StaticResource CardStyle}">
                        <StackPanel Spacing="16">
                            <TextBlock Text="Recent Activity" Style="{ThemeResource SubtitleTextBlockStyle}" Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            TODO: Add ItemsSource binding to activity list from ViewModel when API is ready
                        </StackPanel>
                    </Border>
                    -->
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
