<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="MyShop.Client.Views.Components.Forms.DateRangePicker"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    x:Name="RootControl">

    <!--
    DateRangePicker Component
    =========================
    A reusable date range picker with start and end dates.
    
    Usage:
    <forms:DateRangePicker 
        StartDate="{x:Bind ViewModel.StartDate, Mode=TwoWay}"
        EndDate="{x:Bind ViewModel.EndDate, Mode=TwoWay}"
        StartDateChanged="OnStartDateChanged"
        EndDateChanged="OnEndDateChanged"/>
        
    Usage (With Labels):
    <forms:DateRangePicker 
        StartLabel="From"
        EndLabel="To"
        StartDate="{x:Bind ViewModel.StartDate, Mode=TwoWay}"
        EndDate="{x:Bind ViewModel.EndDate, Mode=TwoWay}"/>
    -->

    <Grid ColumnSpacing="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Start Date -->
        <StackPanel Grid.Column="0" Spacing="4">
            <TextBlock Text="{Binding StartLabel, ElementName=RootControl, Mode=OneWay}"
                       FontSize="12"
                       Foreground="{ThemeResource TextMutedBrush}"/>
            <CalendarDatePicker x:Name="StartDatePicker"
                               HorizontalAlignment="Stretch"
                               BorderBrush="{ThemeResource BorderLightBrush}"
                               Date="{Binding StartDate, ElementName=RootControl, Mode=TwoWay}"
                               PlaceholderText="{Binding StartPlaceholder, ElementName=RootControl, Mode=OneWay}"
                               AutomationProperties.Name="{Binding StartLabel, ElementName=RootControl, Mode=OneWay}"
                               AutomationProperties.HelpText="Select start date"
                               UseSystemFocusVisuals="True"
                               DateChanged="StartDatePicker_DateChanged"/>
        </StackPanel>
        
        <!-- End Date -->
        <StackPanel Grid.Column="1" Spacing="4">
            <TextBlock Text="{Binding EndLabel, ElementName=RootControl, Mode=OneWay}"
                       FontSize="12"
                       Foreground="{ThemeResource TextMutedBrush}"/>
            <CalendarDatePicker x:Name="EndDatePicker"
                               HorizontalAlignment="Stretch"
                               BorderBrush="{ThemeResource BorderLightBrush}"
                               Date="{Binding EndDate, ElementName=RootControl, Mode=TwoWay}"
                               PlaceholderText="{Binding EndPlaceholder, ElementName=RootControl, Mode=OneWay}"
                               AutomationProperties.Name="{Binding EndLabel, ElementName=RootControl, Mode=OneWay}"
                               AutomationProperties.HelpText="Select end date"
                               UseSystemFocusVisuals="True"
                               DateChanged="EndDatePicker_DateChanged"/>
        </StackPanel>
    </Grid>
</UserControl>
