<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="MyShop.Client.Views.Components.BecomeAdminBanner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Border CornerRadius="8"
            BorderBrush="{ThemeResource AccentBlueBrush}"
            BorderThickness="2"
            Margin="0,0,0,24">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="{ThemeResource PrimaryBrush}" Offset="0"/>
                <GradientStop Color="{ThemeResource AccentBlueBrush}" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>
        
        <Grid Padding="24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Crown Icon Circle -->
            <Border Grid.Column="0"
                    Width="56" Height="56"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    CornerRadius="28"
                    Margin="0,0,20,0"
                    VerticalAlignment="Top">
                <TextBlock Text="ðŸ‘‘"
                          FontSize="28"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
            </Border>

            <!-- Content -->
            <StackPanel Grid.Column="1" Spacing="16">
                <!-- Header -->
                <StackPanel Spacing="8">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="ðŸŽ‰ You're the first user!"
                                  FontSize="22"
                                  FontWeight="Bold"
                                  Foreground="{ThemeResource WhiteBrush}"/>
                        <TextBlock Text="âœ¨"
                                  FontSize="20"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <TextBlock Text="This system doesn't have an admin yet. Enter your Activation Code to become the administrator."
                              FontSize="14"
                              Foreground="{ThemeResource AccentBlueBrush}"
                              TextWrapping="Wrap"
                              MaxWidth="600"/>
                </StackPanel>

                <!-- Input Section -->
                <StackPanel Spacing="12" MaxWidth="500">
                    <!-- Activation Code Input -->
                    <Grid>
                        <TextBox x:Name="ActivationCodeInput"
                                PlaceholderText="MYSHOP-XXXX-XXXX-XXXX"
                                MaxLength="22"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderThickness="1"
                                Foreground="{ThemeResource WhiteBrush}"
                                CornerRadius="6"
                                Padding="12,10"
                                FontFamily="Consolas"
                                CharacterCasing="Upper"
                                TextChanged="ActivationCodeInput_TextChanged"/>
                        
                        <!-- Character Counter -->
                        <TextBlock x:Name="CharCounterText"
                                  Text="0/22"
                                  FontSize="11"
                                  FontFamily="Consolas"
                                  Foreground="{ThemeResource AccentBlueBrush}"
                                  HorizontalAlignment="Right"
                                  VerticalAlignment="Center"
                                  Margin="0,0,12,0"
                                  IsHitTestVisible="False"/>
                    </Grid>

                    <!-- Error Message -->
                    <TextBlock x:Name="ErrorMessage"
                              Foreground="{ThemeResource ErrorRedLightBrush}"
                              FontSize="13"
                              TextWrapping="Wrap"
                              Visibility="Collapsed"/>

                    <!-- Become Admin Button -->
                    <Button x:Name="BecomeAdminButton"
                            Style="{StaticResource AccentButtonStyle}"
                            Click="BecomeAdminButton_Click"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            Foreground="{ThemeResource PrimaryBrush}"
                            HorizontalAlignment="Stretch"
                            IsEnabled="False">
                        <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center">
                            <TextBlock Text="ðŸ‘‘" FontSize="16"/>
                            <TextBlock x:Name="ButtonText" Text="Become Admin â†’" FontWeight="SemiBold"/>
                        </StackPanel>
                    </Button>

                    <!-- Tooltip Info -->
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="6"
                            Padding="12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="â„¹ï¸" FontSize="14"/>
                            <TextBlock Text="Where to get activation code?"
                                      FontSize="12"
                                      Foreground="{ThemeResource AccentBlueBrush}"/>
                        </StackPanel>
                        <ToolTipService.ToolTip>
                            <ToolTip>
                                <StackPanel Spacing="8" MaxWidth="300">
                                    <TextBlock Text="Contact your vendor or check your purchase email for the activation code."
                                              TextWrapping="Wrap"/>
                                    <Border Background="{ThemeResource WarningAmberLightBrush}" CornerRadius="4" Padding="8">
                                        <StackPanel Spacing="4">
                                            <TextBlock Text="Demo codes:" FontWeight="SemiBold"/>
                                            <TextBlock Text="â€¢ MYSHOP-PERM-2025-ADMIN (Permanent)" FontFamily="Consolas" FontSize="11"/>
                                            <TextBlock Text="â€¢ MYSHOP-TRIAL-2025-001 (14 days)" FontFamily="Consolas" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </ToolTip>
                        </ToolTipService.ToolTip>
                    </Border>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
