<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="MyShop.Client.Views.Customer.BecomeAgentPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewmodels="using:MyShop.Client.ViewModels.Customer"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Transitions>
        <TransitionCollection>
            <EntranceThemeTransition FromVerticalOffset="50"/>
        </TransitionCollection>
    </Page.Transitions>

    <Page.Resources>
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="{ThemeResource CardBackgroundFillColorDefaultBrush}"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,0,0,24"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Shadow">
                <Setter.Value>
                    <ThemeShadow/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="IconContainerStyle" TargetType="Border">
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
        </Style>

        <Style x:Key="FormTextBoxStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="CornerRadius" Value="8"/>
        </Style>
    </Page.Resources>

    <Grid>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="ResponsiveStates">
                
                <!-- Large Desktop: 1920px+ -->
                <VisualState x:Name="LargeDesktopState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1920"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainContent.Padding" Value="0,40,0,40"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Desktop: 1280-1919px -->
                <VisualState x:Name="DesktopState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1280"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainContent.Padding" Value="0,40,0,40"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Tablet: 960-1279px -->
                <VisualState x:Name="TabletState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="960"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainContent.Padding" Value="0,32,0,32"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Tablet Portrait: 640-959px -->
                <VisualState x:Name="TabletPortraitState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="640"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainContent.Padding" Value="0,24,0,24"/>
                    </VisualState.Setters>
                </VisualState>

                <!-- Mobile: 0-639px (Default) -->
                <VisualState x:Name="MobileState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MainContent.Padding" Value="0,16,0,16"/>
                    </VisualState.Setters>
                </VisualState>
                
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <ScrollViewer x:Name="MainContent" Padding="0,40,0,40">
            <StackPanel MaxWidth="800" HorizontalAlignment="Center" Spacing="0">
            
            <!-- Header -->
            <StackPanel HorizontalAlignment="Center" Margin="0,0,0,40">
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                        BorderThickness="1" 
                        CornerRadius="8" 
                        HorizontalAlignment="Center" 
                        Padding="12,6" 
                        Margin="0,0,0,16">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE735;" FontSize="12" Foreground="{ThemeResource AccentBlueBrush}"/>
                        <TextBlock Text="Become a Sales Agent" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>
                <TextBlock Text="Sales Agent Application" 
                           FontSize="28" 
                           FontWeight="Bold" 
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}" 
                           HorizontalAlignment="Center" 
                           Margin="0,0,0,12"/>
                <TextBlock Text="Join our network of successful sales agents. Fill out the form below to start your journey with MyShop 2025." 
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                           FontSize="16" 
                           TextWrapping="Wrap" 
                           TextAlignment="Center" 
                           MaxWidth="600"/>
            </StackPanel>

            <!-- Personal Information Card -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                        <Border Style="{StaticResource IconContainerStyle}">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="{ThemeResource AccentBlueBrush}" Offset="0"/>
                                    <GradientStop Color="{ThemeResource SecondaryBlueBrush}" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <FontIcon Glyph="&#xE77B;" Foreground="{ThemeResource WhiteBrush}" FontSize="16"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Personal Information" 
                                       FontWeight="SemiBold" 
                                       FontSize="16" 
                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Text="Tell us about yourself" 
                                       FontSize="14" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </StackPanel>

                    <Grid ColumnSpacing="24">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBox x:Name="FullNameTextBox"
                                 Header="Full Name *" 
                                 PlaceholderText="Enter your full name" 
                                 Grid.Column="0"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 Text="{x:Bind ViewModel.FullName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        
                        <TextBox x:Name="EmailTextBox"
                                 Header="Email Address *" 
                                 PlaceholderText="your.email@example.com" 
                                 Grid.Column="1" 
                                 InputScope="EmailSmtpAddress"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 Text="{x:Bind ViewModel.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                    
                    <TextBox x:Name="PhoneTextBox"
                             Header="Phone Number *" 
                             PlaceholderText="+84 987 654 321" 
                             InputScope="TelephoneNumber"
                             Style="{StaticResource FormTextBoxStyle}"
                             Text="{x:Bind ViewModel.PhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
            </Border>

            <!-- Address Information Card -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                        <Border Style="{StaticResource IconContainerStyle}">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="{ThemeResource SecondaryBlueBrush}" Offset="0"/>
                                    <GradientStop Color="{ThemeResource PurpleBrush}" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <FontIcon Glyph="&#xE707;" Foreground="{ThemeResource WhiteBrush}" FontSize="16"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Address Information" 
                                       FontWeight="SemiBold" 
                                       FontSize="16" 
                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Text="Where are you located?" 
                                       FontSize="14" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </StackPanel>

                    <TextBox Header="Street Address *" 
                             PlaceholderText="123 Main Street"
                             Style="{StaticResource FormTextBoxStyle}"
                             Text="{x:Bind ViewModel.StreetAddress, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                    <Grid ColumnSpacing="24">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Header="City *" 
                                 PlaceholderText="Ho Chi Minh City" 
                                 Grid.Column="0"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 Text="{x:Bind ViewModel.City, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBox Header="State/Province *" 
                                 PlaceholderText="Vietnam" 
                                 Grid.Column="1"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 Text="{x:Bind ViewModel.StateProvince, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Business Information Card -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                        <Border Style="{StaticResource IconContainerStyle}">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="{ThemeResource PurpleBrush}" Offset="0"/>
                                    <GradientStop Color="{ThemeResource PurpleBrush}" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <FontIcon Glyph="&#xEC07;" Foreground="{ThemeResource WhiteBrush}" FontSize="16"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Business Information" 
                                       FontWeight="SemiBold" 
                                       FontSize="16" 
                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Text="Optional - If you have a registered business" 
                                       FontSize="14" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </StackPanel>

                    <Grid ColumnSpacing="24">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Header="Business Name" 
                                 PlaceholderText="Your Business LLC" 
                                 Grid.Column="0"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 Text="{x:Bind ViewModel.BusinessName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBox Header="Tax ID / Business Registration" 
                                 PlaceholderText="XX-XXXXXXX" 
                                 Grid.Column="1"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 Text="{x:Bind ViewModel.TaxId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Experience and Motivation Card -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                        <Border Style="{StaticResource IconContainerStyle}">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="{ThemeResource SuccessGreenBrush}" Offset="0"/>
                                    <GradientStop Color="{ThemeResource AccentBlueBrush}" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <FontIcon Glyph="&#xE8F1;" Foreground="{ThemeResource WhiteBrush}" FontSize="16"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Experience and Motivation" 
                                       FontWeight="SemiBold" 
                                       FontSize="16" 
                                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Text="Tell us about your background" 
                                       FontSize="14" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </StackPanel>

                    <TextBox Header="Previous Sales Experience *" 
                             PlaceholderText="Describe your previous sales experience, relevant skills, and achievements..."
                             AcceptsReturn="True" 
                             TextWrapping="Wrap" 
                             MinHeight="100"
                             Style="{StaticResource FormTextBoxStyle}"
                             Text="{x:Bind ViewModel.SalesExperience, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    
                    <TextBox Header="Why do you want to become a Sales Agent? *" 
                             PlaceholderText="Tell us what motivates you to join our sales agent network..."
                             AcceptsReturn="True" 
                             TextWrapping="Wrap" 
                             MinHeight="100"
                             Style="{StaticResource FormTextBoxStyle}"
                             Text="{x:Bind ViewModel.Motivation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
            </Border>

            <!-- Terms and Submit -->
            <StackPanel Spacing="16">
                <Border Style="{StaticResource CardStyle}">
                    <CheckBox IsChecked="{x:Bind ViewModel.AgreeToTerms, Mode=TwoWay}" FontSize="14">
                        <CheckBox.Content>
                            <TextBlock TextWrapping="Wrap">
                                <Run Text="I agree to the "/>
                                <Hyperlink NavigateUri="https://myshop.com/terms">Terms and Conditions</Hyperlink>
                                <Run Text=" *"/>
                                <LineBreak/>
                                <Run Text="By submitting this application, I confirm that all information provided is accurate and I agree to MyShop's " 
                                     Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                                     FontSize="12"/>
                                <Hyperlink NavigateUri="https://myshop.com/terms" FontSize="12">Terms of Service</Hyperlink>
                                <Run Text=", " Foreground="{ThemeResource TextFillColorSecondaryBrush}" FontSize="12"/>
                                <Hyperlink NavigateUri="https://myshop.com/agent-agreement" FontSize="12">Sales Agent Agreement</Hyperlink>
                                <Run Text=", and " Foreground="{ThemeResource TextFillColorSecondaryBrush}" FontSize="12"/>
                                <Hyperlink NavigateUri="https://myshop.com/privacy" FontSize="12">Privacy Policy</Hyperlink>
                                <Run Text=". I understand that there is a 10% platform fee on all sales." 
                                     Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                                     FontSize="12"/>
                            </TextBlock>
                        </CheckBox.Content>
                    </CheckBox>
                </Border>

                <Grid ColumnSpacing="16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <Button Content="Cancel" 
                            Style="{StaticResource SecondaryButtonStyle}"
                            Command="{x:Bind ViewModel.CancelCommand}"/>
                    
                    <Button Grid.Column="1" 
                            Style="{StaticResource PrimaryButtonStyle}"
                            HorizontalAlignment="Stretch"
                            Command="{x:Bind ViewModel.SubmitCommand}"
                            IsEnabled="{x:Bind ViewModel.CanSubmit, Mode=OneWay}">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                <GradientStop Color="{ThemeResource AccentBlueBrush}" Offset="0"/>
                                <GradientStop Color="{ThemeResource SecondaryBlueBrush}" Offset="0.5"/>
                                <GradientStop Color="{ThemeResource PurpleBrush}" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <ProgressRing Width="16" 
                                          Height="16" 
                                          IsActive="{x:Bind ViewModel.IsSubmitting, Mode=OneWay}"
                                          Visibility="{x:Bind ViewModel.IsSubmitting, Mode=OneWay}"/>
                            <FontIcon Glyph="&#xE930;" 
                                      Foreground="{ThemeResource WhiteBrush}" 
                                      FontSize="16"
                                      Visibility="{x:Bind ViewModel.IsNotSubmitting, Mode=OneWay}"/>
                            <TextBlock Text="{x:Bind ViewModel.SubmitButtonText, Mode=OneWay}" 
                                       Foreground="{ThemeResource WhiteBrush}" 
                                       FontWeight="SemiBold"/>
                        </StackPanel>
                    </Button>
                </Grid>
                
                <TextBlock Text="Questions? Contact us at support@myshop.com" 
                           HorizontalAlignment="Center" 
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                           Margin="0,16,0,0"/>
            </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
