<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="MyShop.Client.Views.Admin.AdminUsersPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:converters="using:MyShop.Client.Common.Converters"
    mc:Ignorable="d"
    Background="#F8FAFC">

    <Page.Resources>
        <converters:CountToVisibilityConverter x:Key="CountToVisibility" />
        <converters:CountToVisibilityConverter x:Key="InvertCountToVisibility" IsInverted="True" />
        
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="24"/>
        </Style>
    </Page.Resources>

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Padding="32" Spacing="24">

                <!-- Header -->
                <Grid>
                    <StackPanel>
                        <TextBlock Text="Users Management" FontSize="28" FontWeight="SemiBold" Foreground="#111827"/>
                        <TextBlock Text="Manage all users in the system" FontSize="14" Foreground="#6B7280" Margin="0,8,0,0"/>
                    </StackPanel>
                    <Button Background="#2563EB" Foreground="White" Padding="16,12" CornerRadius="8" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE710;" FontSize="16"/>
                                <TextBlock Text="Add New User"/>
                            </StackPanel>
                        </Button.Content>
                    </Button>
                </Grid>

                <!-- Filters Card -->
                <Border Style="{StaticResource CardStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Search -->
                        <TextBox PlaceholderText="Search users..." Width="300" BorderBrush="#E5E7EB" HorizontalAlignment="Left">
                            <TextBox.Resources>
                                <Style TargetType="TextBox">
                                    <Setter Property="Padding" Value="12"/>
                                </Style>
                            </TextBox.Resources>
                        </TextBox>

                        <!-- Role Filter -->
                        <ComboBox Grid.Column="1" Width="150" PlaceholderText="All Roles" BorderBrush="#E5E7EB" Margin="12,0">
                            <ComboBoxItem Content="All Roles" IsSelected="True"/>
                            <ComboBoxItem Content="Admin"/>
                            <ComboBoxItem Content="Salesman"/>
                            <ComboBoxItem Content="Customer"/>
                        </ComboBox>

                        <!-- Status Filter -->
                        <ComboBox Grid.Column="2" Width="150" PlaceholderText="All Status" BorderBrush="#E5E7EB">
                            <ComboBoxItem Content="All Status" IsSelected="True"/>
                            <ComboBoxItem Content="Active"/>
                            <ComboBoxItem Content="Inactive"/>
                        </ComboBox>
                    </Grid>
                </Border>

                <!-- Users Table -->
                <Border Style="{StaticResource CardStyle}">
                    <StackPanel Spacing="0">
                        
                        <!-- Empty State - shown when no users -->
                        <StackPanel Visibility="Collapsed"
                                   Padding="48" 
                                   HorizontalAlignment="Center" 
                                   VerticalAlignment="Center"
                                   Spacing="16">
                            <FontIcon Glyph="&#xE77B;" FontSize="64" Foreground="#D1D5DB"/>
                            <TextBlock Text="No users found" 
                                      FontSize="18" 
                                      FontWeight="SemiBold" 
                                      Foreground="#6B7280" 
                                      TextAlignment="Center"/>
                            <TextBlock Text="Add your first user to get started" 
                                      FontSize="14" 
                                      Foreground="#9CA3AF" 
                                      TextAlignment="Center"/>
                        </StackPanel>
                        
                        <!-- Table Header -->
                        <Grid Padding="16,12" Background="#F9FAFB" CornerRadius="8,8,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="User" FontSize="12" FontWeight="SemiBold" Foreground="#6B7280"/>
                            <TextBlock Grid.Column="1" Text="Role" FontSize="12" FontWeight="SemiBold" Foreground="#6B7280"/>
                            <TextBlock Grid.Column="2" Text="Phone" FontSize="12" FontWeight="SemiBold" Foreground="#6B7280"/>
                            <TextBlock Grid.Column="3" Text="Status" FontSize="12" FontWeight="SemiBold" Foreground="#6B7280"/>
                            <TextBlock Grid.Column="4" Text="Actions" FontSize="12" FontWeight="SemiBold" Foreground="#6B7280" HorizontalAlignment="Right"/>
                        </Grid>

                        <!-- Sample User Row 1 -->
                        <Grid Padding="16" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- User Info -->
                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12">
                                <PersonPicture Width="40" Height="40" DisplayName="John Doe"/>
                                <StackPanel VerticalAlignment="Center">
                                    <TextBlock Text="John Doe" FontSize="14" FontWeight="SemiBold" Foreground="#111827"/>
                                    <TextBlock Text="john.doe@example.com" FontSize="12" Foreground="#6B7280"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Role Badge -->
                            <Border Grid.Column="1" Background="#FEE2E2" Padding="8,4" CornerRadius="6" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <TextBlock Text="Admin" FontSize="12" Foreground="#DC2626" FontWeight="SemiBold"/>
                            </Border>

                            <!-- Phone -->
                            <TextBlock Grid.Column="2" Text="+1 234 567 8900" FontSize="14" Foreground="#111827" VerticalAlignment="Center"/>

                            <!-- Status Badge -->
                            <Border Grid.Column="3" Background="#D1FAE5" Padding="8,4" CornerRadius="6" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal" Spacing="4">
                                    <Ellipse Width="6" Height="6" Fill="#10B981"/>
                                    <TextBlock Text="Active" FontSize="12" Foreground="#10B981" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Border>

                            <!-- Actions -->
                            <StackPanel Grid.Column="4" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Change Role">
                                    <FontIcon Glyph="&#xE8AB;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Reset Password">
                                    <FontIcon Glyph="&#xE72E;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Edit Tax Rate">
                                    <FontIcon Glyph="&#xE8C8;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="#FEE2E2" BorderBrush="#FEE2E2" ToolTipService.ToolTip="Deactivate">
                                    <FontIcon Glyph="&#xE8D8;" FontSize="16" Foreground="#DC2626"/>
                                </Button>
                            </StackPanel>
                        </Grid>

                        <!-- Sample User Row 2 -->
                        <Grid Padding="16" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- User Info -->
                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12">
                                <PersonPicture Width="40" Height="40" DisplayName="Jane Smith"/>
                                <StackPanel VerticalAlignment="Center">
                                    <TextBlock Text="Jane Smith" FontSize="14" FontWeight="SemiBold" Foreground="#111827"/>
                                    <TextBlock Text="jane.smith@example.com" FontSize="12" Foreground="#6B7280"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Role Badge -->
                            <Border Grid.Column="1" Background="#DBEAFE" Padding="8,4" CornerRadius="6" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <TextBlock Text="Salesman" FontSize="12" Foreground="#2563EB" FontWeight="SemiBold"/>
                            </Border>

                            <!-- Phone -->
                            <TextBlock Grid.Column="2" Text="+1 234 567 8901" FontSize="14" Foreground="#111827" VerticalAlignment="Center"/>

                            <!-- Status Badge -->
                            <Border Grid.Column="3" Background="#D1FAE5" Padding="8,4" CornerRadius="6" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal" Spacing="4">
                                    <Ellipse Width="6" Height="6" Fill="#10B981"/>
                                    <TextBlock Text="Active" FontSize="12" Foreground="#10B981" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Border>

                            <!-- Actions -->
                            <StackPanel Grid.Column="4" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Change Role">
                                    <FontIcon Glyph="&#xE8AB;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Reset Password">
                                    <FontIcon Glyph="&#xE72E;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Edit Tax Rate">
                                    <FontIcon Glyph="&#xE8C8;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="#FEE2E2" BorderBrush="#FEE2E2" ToolTipService.ToolTip="Deactivate">
                                    <FontIcon Glyph="&#xE8D8;" FontSize="16" Foreground="#DC2626"/>
                                </Button>
                            </StackPanel>
                        </Grid>

                        <!-- Sample User Row 3 -->
                        <Grid Padding="16" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- User Info -->
                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12">
                                <PersonPicture Width="40" Height="40" DisplayName="Mike Johnson"/>
                                <StackPanel VerticalAlignment="Center">
                                    <TextBlock Text="Mike Johnson" FontSize="14" FontWeight="SemiBold" Foreground="#111827"/>
                                    <TextBlock Text="mike.johnson@example.com" FontSize="12" Foreground="#6B7280"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Role Badge -->
                            <Border Grid.Column="1" Background="#D1FAE5" Padding="8,4" CornerRadius="6" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <TextBlock Text="Customer" FontSize="12" Foreground="#10B981" FontWeight="SemiBold"/>
                            </Border>

                            <!-- Phone -->
                            <TextBlock Grid.Column="2" Text="+1 234 567 8902" FontSize="14" Foreground="#111827" VerticalAlignment="Center"/>

                            <!-- Status Badge (Inactive) -->
                            <Border Grid.Column="3" Background="#F3F4F6" Padding="8,4" CornerRadius="6" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal" Spacing="4">
                                    <Ellipse Width="6" Height="6" Fill="#6B7280"/>
                                    <TextBlock Text="Inactive" FontSize="12" Foreground="#6B7280" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Border>

                            <!-- Actions -->
                            <StackPanel Grid.Column="4" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Change Role">
                                    <FontIcon Glyph="&#xE8AB;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Reset Password">
                                    <FontIcon Glyph="&#xE72E;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="Transparent" BorderBrush="#E5E7EB" ToolTipService.ToolTip="Edit Tax Rate">
                                    <FontIcon Glyph="&#xE8C8;" FontSize="16" Foreground="#6B7280"/>
                                </Button>
                                <Button Padding="8" Background="#D1FAE5" BorderBrush="#D1FAE5" ToolTipService.ToolTip="Activate">
                                    <FontIcon Glyph="&#xE73E;" FontSize="16" Foreground="#10B981"/>
                                </Button>
                            </StackPanel>
                        </Grid>

                    </StackPanel>
                </Border>

                <!-- Pagination -->
                <Grid>
                    <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Left">
                        <TextBlock Text="Showing 1-10 of 45 users" FontSize="14" Foreground="#6B7280" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                        <Button Content="Previous" Padding="12,8" Background="Transparent" BorderBrush="#E5E7EB" CornerRadius="8"/>
                        <Button Content="1" Padding="12,8" Background="#2563EB" Foreground="White" CornerRadius="8"/>
                        <Button Content="2" Padding="12,8" Background="Transparent" BorderBrush="#E5E7EB" CornerRadius="8"/>
                        <Button Content="3" Padding="12,8" Background="Transparent" BorderBrush="#E5E7EB" CornerRadius="8"/>
                        <Button Content="Next" Padding="12,8" Background="Transparent" BorderBrush="#E5E7EB" CornerRadius="8"/>
                    </StackPanel>
                </Grid>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
