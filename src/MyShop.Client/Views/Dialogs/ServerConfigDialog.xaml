<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="MyShop.Client.Views.Dialogs.ServerConfigDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="âš™ï¸ Configure API Source"
    PrimaryButtonText="Save"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick">

    <StackPanel Spacing="16"
            MinWidth="450">
        <TextBlock Text="Choose your API source for the application:"
                   TextWrapping="Wrap"
                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

        <!-- API Mode Selection -->
        <StackPanel Spacing="12">
            <TextBlock Text="API Mode"
                    FontWeight="SemiBold"/>
            <RadioButtons x:Name="ApiModeRadioButtons"
                          SelectionChanged="ApiModeRadioButtons_SelectionChanged"
                          MaxColumns="2">
                <RadioButton Content="ðŸŒ Real API"
                        Tag="real"
                        GroupName="ApiMode"/>
                <RadioButton Content="ðŸŽ­ Mock Data"
                        Tag="mock"
                        GroupName="ApiMode"/>
            </RadioButtons>
        </StackPanel>

        <Border x:Name="RealApiTipsPanel"
                Background="{ThemeResource SystemFillColorAttentionBackgroundBrush}"
                BorderBrush="{ThemeResource SystemFillColorAttentionBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Padding="12"
                Visibility="Visible">
            <StackPanel Spacing="4">
                <TextBlock Text="ðŸ’¡ Quick Tips:"
                        FontWeight="SemiBold"
                        FontSize="13"/>
                <TextBlock Text="â€¢ Make sure the server is running before connecting"
                           FontSize="12"
                        TextWrapping="Wrap"/>
                <TextBlock Text="â€¢ Use https:// for secure connections"
                           FontSize="12"
                        TextWrapping="Wrap"/>
                <TextBlock Text="â€¢ Check firewall settings if connection fails"
                           FontSize="12"
                        TextWrapping="Wrap"/>
            </StackPanel>
        </Border>

        <!-- Real API Configuration -->
        <StackPanel x:Name="RealApiPanel"
                Spacing="8"
                Visibility="Visible">
            <TextBlock Text="Server URL"
                    FontWeight="SemiBold"/>
            <TextBox x:Name="ServerUrlTextBox"
                     PlaceholderText="https://localhost:7120"
                     Text="{x:Bind ServerUrl, Mode=TwoWay}"/>
            <TextBlock Text="Example: https://localhost:7120 or http://192.168.1.100:5000"
                       FontSize="12"
                       Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                       TextWrapping="Wrap"/>
        </StackPanel>

        <!-- Mock Data Info -->
        <Border x:Name="MockDataPanel"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16"
                Visibility="Collapsed">
            <StackPanel Spacing="12">
                <TextBlock Text="ðŸŽ­ Mock Data Mode"
                           FontWeight="SemiBold"
                           FontSize="14"/>
                <TextBlock Text="Using simulated data for demo purposes. No server connection required."
                           TextWrapping="Wrap"
                           FontSize="12"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

                <StackPanel Spacing="6">
                    <TextBlock Text="Available Test Accounts:"
                               FontWeight="SemiBold"
                               FontSize="12"/>
                    <StackPanel Spacing="4">
                        <TextBlock FontSize="11"
                                FontFamily="Consolas">
                            <Run Text="ðŸ‘¤ Admin: "
                                    FontWeight="SemiBold"/>
                            <Run Text="admin / admin123"/>
                        </TextBlock>
                        <TextBlock FontSize="11"
                                FontFamily="Consolas">
                            <Run Text="ðŸ’¼ Sales Agent: "
                                    FontWeight="SemiBold"/>
                            <Run Text="salesagent / sales123"/>
                        </TextBlock>
                        <TextBlock FontSize="11"
                                FontFamily="Consolas">
                            <Run Text="ðŸ›ï¸ Customer: "
                                    FontWeight="SemiBold"/>
                            <Run Text="customer / customer123"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <TextBlock x:Name="ValidationMessage"
                   Text=""
                   Foreground="#DC2626"
                   FontSize="12"
                   TextWrapping="Wrap"
                   Visibility="Collapsed"/>
    </StackPanel>
</ContentDialog>
